--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4
-- Dumped by pg_dump version 17.5 (Ubuntu 17.5-1.pgdg24.04+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: admins; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.admins (
    id bigint NOT NULL,
    profile_id bigint NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.admins OWNER TO postgres;

--
-- Name: COLUMN admins.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.admins.id IS 'Admin-specific primary key.';


--
-- Name: COLUMN admins.profile_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.admins.profile_id IS 'Foreign Key to the profiles.id, establishing this admin as a profile.';


--
-- Name: admins_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.admins ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.admins_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: candidates; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.candidates (
    id bigint NOT NULL,
    profile_id bigint NOT NULL,
    blocked boolean DEFAULT false,
    resume_url character varying(255),
    visibility_settings character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone,
    job_title character varying(255),
    job_category character varying(255)
);


ALTER TABLE public.candidates OWNER TO postgres;

--
-- Name: COLUMN candidates.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.candidates.id IS 'Candidate-specific primary key.';


--
-- Name: COLUMN candidates.profile_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.candidates.profile_id IS 'Foreign Key to the profiles.id, establishing this candidate as a profile.';


--
-- Name: COLUMN candidates.resume_url; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.candidates.resume_url IS 'URL or path to the candidate''s resume.';


--
-- Name: candidates_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.candidates ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.candidates_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: certifications; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.certifications (
    id bigint NOT NULL,
    candidate_id bigint NOT NULL,
    obtained_date date,
    name character varying(255),
    organization character varying(255),
    certification_url character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.certifications OWNER TO postgres;

--
-- Name: certifications_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.certifications ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.certifications_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: clients; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.clients (
    id bigint NOT NULL,
    profile_id bigint NOT NULL,
    blocked boolean DEFAULT false,
    company_description text,
    company_name character varying(255),
    country character varying(255),
    industry character varying(255),
    linkedin_url character varying(255),
    website character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.clients OWNER TO postgres;

--
-- Name: COLUMN clients.id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.clients.id IS 'Client-specific primary key.';


--
-- Name: COLUMN clients.profile_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.clients.profile_id IS 'Foreign Key to the profiles.id, establishing this client as a profile.';


--
-- Name: clients_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.clients ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.clients_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: databasechangelog; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangelog (
    id character varying(255) NOT NULL,
    author character varying(255) NOT NULL,
    filename character varying(255) NOT NULL,
    dateexecuted timestamp without time zone NOT NULL,
    orderexecuted integer NOT NULL,
    exectype character varying(10) NOT NULL,
    md5sum character varying(35),
    description character varying(255),
    comments character varying(255),
    tag character varying(255),
    liquibase character varying(20),
    contexts character varying(255),
    labels character varying(255),
    deployment_id character varying(10)
);


ALTER TABLE public.databasechangelog OWNER TO postgres;

--
-- Name: databasechangeloglock; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.databasechangeloglock (
    id integer NOT NULL,
    locked boolean NOT NULL,
    lockgranted timestamp without time zone,
    lockedby character varying(255)
);


ALTER TABLE public.databasechangeloglock OWNER TO postgres;

--
-- Name: educations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.educations (
    id bigint NOT NULL,
    candidate_id bigint NOT NULL,
    start_date date,
    end_date date,
    degree character varying(255),
    field_of_study character varying(255),
    is_current boolean DEFAULT false,
    institution_name character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.educations OWNER TO postgres;

--
-- Name: educations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.educations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.educations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: experience; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.experience (
    id bigint NOT NULL,
    candidate_id bigint NOT NULL,
    job_title character varying(255) NOT NULL,
    company_name character varying(255) NOT NULL,
    location character varying(255),
    start_date date NOT NULL,
    end_date date,
    description character varying(1000),
    is_current boolean DEFAULT false,
    technologies character varying(1000),
    contract_type character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.experience OWNER TO postgres;

--
-- Name: COLUMN experience.location; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.experience.location IS 'Location of the job';


--
-- Name: experience_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.experience ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.experience_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: profiles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.profiles (
    id bigint NOT NULL,
    auth_service_user_id character varying(255) NOT NULL,
    email character varying(255) NOT NULL,
    first_name character varying(255) NOT NULL,
    last_name character varying(255) NOT NULL,
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone,
    phone_number character varying(255),
    address character varying(255),
    linkedin_url character varying(255)
);


ALTER TABLE public.profiles OWNER TO postgres;

--
-- Name: TABLE profiles; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.profiles IS 'Central user record table for the Profile Service.';


--
-- Name: COLUMN profiles.auth_service_user_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.auth_service_user_id IS 'Unique user identifier from the authentication service (e.g., JWT sub claim).';


--
-- Name: COLUMN profiles.email; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.email IS 'User''s email.';


--
-- Name: COLUMN profiles.first_name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.first_name IS 'User''s firstName.';


--
-- Name: COLUMN profiles.last_name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.last_name IS 'User''s lastName.';


--
-- Name: COLUMN profiles.created_at; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.created_at IS 'Timestamp when the record was created.';


--
-- Name: COLUMN profiles.updated_at; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.profiles.updated_at IS 'Timestamp when the record was last updated.';


--
-- Name: profiles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.profiles ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.profiles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.roles (
    id bigint NOT NULL,
    name character varying(50) NOT NULL,
    description text
);


ALTER TABLE public.roles OWNER TO postgres;

--
-- Name: TABLE roles; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.roles IS 'Defines the different roles in the system.';


--
-- Name: COLUMN roles.name; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.roles.name IS 'Unique name of the role (e.g., ''ROLE_ADMIN'', ''ROLE_CLIENT'').';


--
-- Name: COLUMN roles.description; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.roles.description IS 'Description of the role.';


--
-- Name: roles_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.roles ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.roles_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: skills; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.skills (
    id bigint NOT NULL,
    candidate_id bigint NOT NULL,
    custom_skills character varying(255),
    programming_languages character varying(255),
    soft_skills character varying(255),
    technical_skills character varying(255),
    tools_and_technologies character varying(255),
    created_at timestamp with time zone DEFAULT now(),
    updated_at timestamp with time zone
);


ALTER TABLE public.skills OWNER TO postgres;

--
-- Name: skills_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.skills ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.skills_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: user_roles; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_roles (
    profile_id bigint NOT NULL,
    role_id bigint NOT NULL
);


ALTER TABLE public.user_roles OWNER TO postgres;

--
-- Name: TABLE user_roles; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON TABLE public.user_roles IS 'Junction table for profile-role many-to-many relationship.';


--
-- Name: COLUMN user_roles.profile_id; Type: COMMENT; Schema: public; Owner: postgres
--

COMMENT ON COLUMN public.user_roles.profile_id IS 'Foreign key to profiles.id';


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id bigint NOT NULL,
    username character varying(100) NOT NULL,
    email character varying(255) NOT NULL,
    role character varying(50),
    keycloak_id character varying(255),
    first_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: admins; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.admins (id, profile_id, created_at, updated_at) FROM stdin;
1	3	2025-06-10 19:28:46.691803+00	\N
\.


--
-- Data for Name: candidates; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.candidates (id, profile_id, blocked, resume_url, visibility_settings, created_at, updated_at, job_title, job_category) FROM stdin;
1	1	f	https://helmi.sdfsdfsdfsdfscom/new_resume.pdf	PUBLIC	2025-06-09 11:25:14.000665+00	2025-06-12 11:01:01.720415+00	HELMIHELMIHEMIfsdfsdfsdfsdf backend developer roles in the fintech industry.	\N
2	4	t	https://example.sdfsdfsdfsdfscom/new_resume.pdf	PUBLIC	2025-06-11 18:53:35.632563+00	2025-06-12 18:02:38.945976+00	Remotesdfsdfsdfsdfsdf backend developer roles in the fintech industry.	\N
3	6	f	https://azizaziz.sdfsdfsdfsdfscom/new_resume.pdf	PUBLIC	2025-06-26 13:06:07.446674+00	2025-06-26 13:21:58.641669+00	azizaziz backend developer roles in the fintech industry.	\N
4	7	f	https://hamzaResumeUrl.sdfsdfsdfsdfscom/new_resume.pdf	PUBLIC	2025-06-26 21:06:23.504804+00	2025-06-26 21:14:53.743135+00	hamaza jobPreferences backend developer roles in the fintech industry.	\N
5	8	f	https://fgfgfg.com	RESTRICTED	2025-06-26 21:41:06.515676+00	\N	lenovo 	\N
\.


--
-- Data for Name: certifications; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.certifications (id, candidate_id, obtained_date, name, organization, certification_url, created_at, updated_at) FROM stdin;
5	2	2024-11-20	HELMIied Solutions Architect - Associate	HELMI Services	https://www.HELMI.com/your-badge-url	\N	\N
8	1	2026-01-01	bort sayada 	bort sayada 	https://gemini.google.com/app/7aa705ff4069784b?hl=fr	\N	\N
9	1	2025-06-17	bort sayada  moknin	bort sayada 	https://gemini.google.com/app/7aa705ff4069784b?hl=fr	\N	\N
7	1	2024-11-20	bbb	this is a test  Services	https://www.thisisatest.com/your-badge-url	\N	\N
11	4	2025-06-11	sdsfd	sdfsdfds	https://www.thisisatest.com/your-badge-url	\N	\N
12	5	2025-02-01	ccna 	cisco 	https://www.thisisatest.com/your-badge-url	\N	\N
\.


--
-- Data for Name: clients; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.clients (id, profile_id, blocked, company_description, company_name, country, industry, linkedin_url, website, created_at, updated_at) FROM stdin;
1	2	f	A leading provider of cloud solutions.	Innovate Corp	USA	Technology	https://linkedin.com/company/innovate-corp	https://innovatecorp.com	2025-06-09 18:43:53.082298+00	2025-06-09 18:45:59.961693+00
2	5	t	A xxxxxxxxxxxxxx provider of cloud solutions.	xxxxxxxxxxxxxxx Corp	USA	xxxxxxxxxxxxxxx	https://xxxxxxxxxxxxxx.com/company/innovate-corp	https://xxxxxxxxxxxxx.com	2025-06-12 11:47:21.787231+00	2025-06-12 18:01:19.613505+00
3	9	f	A premier web development agency based in the Sahel region, specializing in creating dynamic e-commerce platforms and custom web applications for businesses across North Africa and Europe.	WebDev Pros S.A.R.L.	Tunisia	Information Technology and Services	https://www.linkedin.com/company/webdevprostn	https://www.webdevpros.tn	2025-06-26 23:41:07.872718+00	\N
4	10	f	International company for providig innovative and compact solutions suited for you requirements	Proxym It	Tunisia	software Solutions 	https://linkedin.com/helmihassine	https://ui.shadcn.com/docs/components/alertqsdqdq	2025-06-27 00:10:05.975444+00	2025-06-27 09:47:21.54911+00
\.


--
-- Data for Name: databasechangelog; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangelog (id, author, filename, dateexecuted, orderexecuted, exectype, md5sum, description, comments, tag, liquibase, contexts, labels, deployment_id) FROM stdin;
20250527-unified-create-profiles-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.71962	1	EXECUTED	9:ea0ff9e7c4e8e6ddbe4e5dff754a8cb1	createTable tableName=profiles; createIndex indexName=idx_profiles_auth_service_user_id, tableName=profiles	Creates the central 'profiles' table with auth_service_user_id as VARCHAR for unified authentication.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-roles-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.741636	2	EXECUTED	9:c67b0e1482ce100e1717736e3c7919ba	createTable tableName=roles	Creates the 'roles' table to define system roles.	\N	4.27.0	\N	\N	9417221579
20250527-unified-insert-initial-roles	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.770323	3	EXECUTED	9:789e382a9f85395e3cbee3270bab45fd	insert tableName=roles; insert tableName=roles; insert tableName=roles; sql	Inserts initial roles into the 'roles' table.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-user-roles-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.805324	4	EXECUTED	9:6e12309aa583ceb24e5ad708c5dd17e8	createTable tableName=user_roles; addPrimaryKey constraintName=pk_user_roles, tableName=user_roles; addForeignKeyConstraint baseTableName=user_roles, constraintName=fk_user_roles_profile_id, referencedTableName=profiles; addForeignKeyConstraint ba...	Creates the junction table for profile-role many-to-many relationship.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-admins-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.859169	5	EXECUTED	9:cd72505ccc50d7e80e5560e1d67590b9	createTable tableName=admins; addForeignKeyConstraint baseTableName=admins, constraintName=fk_admins_profile_id, referencedTableName=profiles; createIndex indexName=idx_admins_profile_id, tableName=admins	Creates the 'admins' table, linked to 'profiles.id'.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-clients-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.892713	6	EXECUTED	9:6f00e8c7a2c02c973b022a9e873c14b1	createTable tableName=clients; addForeignKeyConstraint baseTableName=clients, constraintName=fk_clients_profile_id, referencedTableName=profiles; createIndex indexName=idx_clients_profile_id, tableName=clients	Creates the 'clients' table, linked to 'profiles.id'.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-candidates-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.964041	7	EXECUTED	9:dcb8e6003c32101e64984115eb19487f	createTable tableName=candidates; addForeignKeyConstraint baseTableName=candidates, constraintName=fk_candidates_profile_id, referencedTableName=profiles; createIndex indexName=idx_candidates_profile_id, tableName=candidates	Creates the 'candidates' table, linked to 'profiles.id'. Profile_picture removed, resume renamed to resume_url.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-skills-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:41.989012	8	EXECUTED	9:79346411fb731e912e56c26a24f59e60	createTable tableName=skills; addForeignKeyConstraint baseTableName=skills, constraintName=fk_skills_candidate_id, referencedTableName=candidates; createIndex indexName=idx_skills_candidate_id, tableName=skills	Creates the 'skills' table for candidate skills.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-certifications-table-modified	system-refactor-user-update	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:42.058581	9	EXECUTED	9:af184b1c43030b65ee56a646081cdbad	createTable tableName=certifications; addForeignKeyConstraint baseTableName=certifications, constraintName=fk_cert_candidate_id, referencedTableName=candidates; createIndex indexName=idx_cert_candidate_id, tableName=certifications	Creates the 'certifications' table for candidate certifications. Column names 'nom' to 'name' and 'date_obtention' to 'obtained_date'.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-educations-table-modified	system-refactor-user-update	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:42.08578	10	EXECUTED	9:616b52505194f51c4fc1bdfeb29c8051	createTable tableName=educations; addForeignKeyConstraint baseTableName=educations, constraintName=fk_edu_candidate_id, referencedTableName=candidates; createIndex indexName=idx_edu_candidate_id, tableName=educations	Creates the 'educations' table for candidate education history. Column names 'date_debut' to 'start_date' and 'date_fin' to 'end_date'.	\N	4.27.0	\N	\N	9417221579
20250527-unified-create-experience-table	system-refactor	db/changelog/profile-ms-schema-refactor.xml	2025-06-08 22:13:42.158097	11	EXECUTED	9:f4799ac50df45f3dff5af7fcb933fbc7	createTable tableName=experience; addForeignKeyConstraint baseTableName=experience, constraintName=fk_exp_candidate_id, referencedTableName=candidates; createIndex indexName=idx_exp_candidate_id, tableName=experience	Creates the 'experience' table for candidate work experience.	\N	4.27.0	\N	\N	9417221579
20250609-1-add-contact-fields-to-profiles	backend-ai	db/changelog/refactor-client-profile-fields.xml	2025-06-09 11:00:58.58355	12	EXECUTED	9:7573b83840b9b211e2ba6dd561afd278	addColumn tableName=profiles	Adds phone_number and address to the profiles table to centralize contact info.	\N	4.27.0	\N	\N	9463258451
20250609-2-migrate-client-contact-data	backend-ai	db/changelog/refactor-client-profile-fields.xml	2025-06-09 11:00:58.681073	13	EXECUTED	9:7a4110049bb45f8abc51f95e36e9f858	sql	Migrates existing address and phone number data from clients to the profiles table.	\N	4.27.0	\N	\N	9463258451
20250609-3-drop-redundant-fields-from-clients	backend-ai	db/changelog/refactor-client-profile-fields.xml	2025-06-09 11:00:58.707527	14	EXECUTED	9:5e344315a62c1f1945951ff143c61f2a	dropColumn columnName=email, tableName=clients; dropColumn columnName=phone_number, tableName=clients; dropColumn columnName=address, tableName=clients	Removes redundant email, phone_number, and address columns from the clients table.	\N	4.27.0	\N	\N	9463258451
1	helmi	db/changelog/db.changelog-master.xml	2025-06-12 11:07:31.53128	15	EXECUTED	9:7ff5dbf530f49d39c79888aa9dc0fd19	createTable tableName=users		\N	4.29.2	\N	\N	9722851367
2	helmi-add-names	db/changelog/db.changelog-master.xml	2025-06-12 11:07:31.6304	16	EXECUTED	9:f1d4a950aefb66ab481e7b3f75fcd7c3	addColumn tableName=users		\N	4.29.2	\N	\N	9722851367
20250610-1-replace-job-preferences-with-job-title	backend-ai	db/changelog/replace-job-preferences-with-job-title.xml	2025-07-04 17:15:12.211548	17	EXECUTED	9:43eacb097e6649bca5bb976e52cec027	addColumn tableName=candidates; update tableName=candidates; dropColumn columnName=job_preferences, tableName=candidates	Replaces job_preferences with job_title in candidates table.	\N	4.27.0	\N	\N	1645712160
20240610-1-add-linkedin-url-to-profiles	backend-ai	db/changelog/align-cv-parsing-schema.xml	2025-07-04 17:33:57.390319	18	EXECUTED	9:ee81452c967f099d071dac1ccfa4b099	addColumn tableName=profiles		\N	4.27.0	\N	\N	1646837355
20240610-1-add-linkedin-url-to-profiles	backend-ai	db/changelog/fix-liquibase-issue.xml	2025-07-04 17:59:15.006441	19	MARK_RAN	9:ee81452c967f099d071dac1ccfa4b099	addColumn tableName=profiles		\N	4.27.0	\N	\N	1648354971
20240610-2-update-candidates-job-fields	backend-ai	db/changelog/fix-liquibase-issue.xml	2025-07-04 17:59:15.020036	20	MARK_RAN	9:e2012795b63c888d60b8a499fa8dd1ce	addColumn tableName=candidates; dropColumn columnName=job_preferences, tableName=candidates		\N	4.27.0	\N	\N	1648354971
\.


--
-- Data for Name: databasechangeloglock; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.databasechangeloglock (id, locked, lockgranted, lockedby) FROM stdin;
1	f	\N	\N
\.


--
-- Data for Name: educations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.educations (id, candidate_id, start_date, end_date, degree, field_of_study, is_current, institution_name, created_at, updated_at) FROM stdin;
5	2	2017-09-01	2027-09-01	HELMIdfsdfs	HELMIdklfs	f	HELMIfnsdf	2025-06-12 11:16:18.628725+00	\N
6	2	2017-09-01	2027-09-01	HELMIdfsdfs	HELMIdklfs	f	HELMIfnsdf	2025-06-12 11:17:28.448934+00	\N
3	1	2017-09-01	2027-09-01	helmiiyyy hassine	hassine	f	lycéée sayada	2025-06-09 20:45:35.188911+00	2025-06-24 21:55:00.231014+00
13	4	2025-06-25	\N	dsfsdfs	dsfsdfdsa	t	cxsfds	2025-06-26 21:08:03.867148+00	\N
15	5	2025-01-01	\N	baccaloreat	mathematique 	t	dsnfsdfnsdf	2025-06-26 21:43:51.797369+00	\N
16	1	2026-01-02	\N	mahmmm	mahmmm	t	mahmmm	2025-07-02 16:36:40.065883+00	\N
2	1	2017-09-01	2020-06-30	Bachelor of Science	Computer Science	f	dsnfsdfnsdf	2025-06-09 20:44:31.515676+00	2025-07-02 16:36:59.788547+00
\.


--
-- Data for Name: experience; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.experience (id, candidate_id, job_title, company_name, location, start_date, end_date, description, is_current, technologies, contract_type, created_at, updated_at) FROM stdin;
4	2	helmi	HELKMIjgslhsdld	HELMIkjkms	2025-06-09	2025-07-09	HELMIdhlkfhdklf	f	HELMIlkkmsjkldm	CDI	2025-06-12 11:16:08.281677+00	\N
5	2	helmi	HELKMIjgslhsdld	HELMIkjkms	2025-06-09	2025-07-09	HELMIdhlkfhdklf	f	HELMIlkkmsjkldm	CDI	2025-06-12 11:17:06.253922+00	\N
12	1	Senior Sebnnnn Developer	TechCorp Solutions	Paris, France	2025-06-09	\N	create a full-stack applciation frontend and backend 	t	Java, Spring Boot, Microservices, PostgreSQL, Docker, Kubernetes, Git	Internship	2025-06-24 22:32:00.505561+00	\N
13	4	sfsdf	sfddsf	sdfsdfs	2025-06-26	\N	dsfsdf	t	dsfsdf	Internship	2025-06-26 21:07:46.657471+00	\N
14	5	qskqj	sqkjdhqskj	skqjdqskj	2025-01-02	\N	developed a full stack plateform for recruitement , and managing system architecture 	t	react , next , java , python , typerscript , node js 	Internship	2025-06-26 21:43:20.059548+00	\N
\.


--
-- Data for Name: profiles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.profiles (id, auth_service_user_id, email, first_name, last_name, created_at, updated_at, phone_number, address, linkedin_url) FROM stdin;
3	4e14712c-12e7-477d-83a6-f851fb73b718	helmi.admin@gmail.com	helmi	admin	2025-06-10 19:28:46.65843+00	\N	\N	\N	\N
10	100111b6-0ffb-4b5e-82b0-e9caecea34b2	chokri.client@gmail.com	chokri	hassine	2025-06-27 00:09:21.760384+00	\N	+216 545545455	Carrer Teodoro Llorente, 208	\N
1	83291696-07cf-4dc1-8cac-0280912cd02a	helmi.candidat@gmail.com	helmi	hassine	2025-06-09 11:06:02.648731+00	\N	+21628372002	monastir saytada, cliednt, tn	\N
5	dfc1f947-cef2-4908-a94c-1778ab2fe265	hassine.client@gmail.com	helmi	client	2025-06-12 11:45:11.277703+00	\N	xxxxxxxxxxxxx	xxxxxxxxxxxxxx dlfhskdfsdf	\N
4	9658628c-91b9-4d8c-9b25-3b3623003ebb	amira.amira@gmail.com	amira 	hassine	2025-06-11 16:08:24.15512+00	\N	+21628372002	sayada	\N
6	fe7df51b-7084-4861-b6cf-0cdfd50cc200	aziz.candidat@gmail.com	aziz	ben cheikh	2025-06-24 22:14:19.677465+00	\N	+1111111	monastir CLIENT, client, tn	\N
7	7f0bf0ed-8558-4c57-8fa3-3d098b94912a	hamza.candidat@gmail.com	hamza	hassine	2025-06-25 18:18:09.769842+00	\N	+21628372002	Carrer Teodoro Llorente, 208	\N
8	b092b7b1-8b44-4ae5-82c1-43209915c7cb	lenovo.candidat@gmail.com	lenovo	lenovo	2025-06-26 21:40:42.624328+00	\N	+9207533134354	Carrer Teodoro Llorente, 208	\N
2	8ccc775f-32a8-4b13-b6a4-b672869e90c0	helmi.client@gmail.com	helmi	clirnt	2025-06-09 18:43:52.87709+00	\N	+28372002	monastir saytada, client, tn	\N
9	94ebc137-4f20-40c8-9636-2a0318ca78bd	client2@gmail.com	client	client2222	2025-06-26 22:08:38.015331+00	\N	+123123123	monastir CLIENT, client, tn	\N
\.


--
-- Data for Name: roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.roles (id, name, description) FROM stdin;
1	ROLE_ADMIN	System administrator with full access to the platform.
2	ROLE_CLIENT	Represents a company or organization looking to hire.
3	ROLE_CANDIDATE	An individual seeking job opportunities and managing their profile.
\.


--
-- Data for Name: skills; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.skills (id, candidate_id, custom_skills, programming_languages, soft_skills, technical_skills, tools_and_technologies, created_at, updated_at) FROM stdin;
2	1	AI/ML frameworks	Java, Python, JavaScript	Communication, Leadership, Problem-solving	Spring Boot, React, Docker	IntelliJ IDEA, Git, Jenkins	2025-06-09 19:07:38.767993+00	\N
3	1	AI/ML frameworks	Java, dsssssssssssssssssssssssPython, JavaScript	Communication, Leadership, Problem-solving	Spring Boot, React, Docker	IntelliJ IDEA, Git, Jenkins	2025-06-10 17:38:23.425027+00	\N
4	1	HELMI/ML frameworks	HELMI, sssssssssssssssPython, JavaScript	HELMI, Leadership, Problem-solving	HELMI Boot, React, Docker	HELMI IDEA, Git, Jenkins	2025-06-12 11:07:18.688966+00	\N
5	2	HELMI/ML frameworks	HELMI, sssssssssssssssPython, JavaScript	HELMI, Leadership, Problem-solving	HELMI Boot, React, Docker	HELMI IDEA, Git, Jenkins	2025-06-12 11:07:30.965277+00	\N
6	2	HELMI/ML frameworks	HELMI, sssssssssssssssPython, JavaScript	HELMI, Leadership, Problem-solving	HELMI Boot, React, Docker	HELMI IDEA, Git, Jenkins	2025-06-12 11:15:12.210407+00	\N
7	3	Sociable 	figma, UI/UX, 	Commnunications , Team Work 	Website Design, Mobile Apps Design, 	figma, adobe XD	2025-06-26 13:26:07.131428+00	\N
8	4	sdfsdf	xds	sdfsdf	sdsdf	dsfsdf	2025-06-26 21:07:19.188031+00	\N
9	5	qksdfhskdfj	assembly 	dkfhskdfh	sjdqskd	sqkjfhqkfh	2025-06-26 21:41:55.533574+00	\N
\.


--
-- Data for Name: user_roles; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_roles (profile_id, role_id) FROM stdin;
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (user_id, username, email, role, keycloak_id, first_name, last_name) FROM stdin;
\.


--
-- Name: admins_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.admins_id_seq', 1, true);


--
-- Name: candidates_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.candidates_id_seq', 5, true);


--
-- Name: certifications_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.certifications_id_seq', 12, true);


--
-- Name: clients_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.clients_id_seq', 4, true);


--
-- Name: educations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.educations_id_seq', 16, true);


--
-- Name: experience_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.experience_id_seq', 14, true);


--
-- Name: profiles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.profiles_id_seq', 10, true);


--
-- Name: roles_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.roles_id_seq', 3, true);


--
-- Name: skills_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.skills_id_seq', 9, true);


--
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_id_seq', 1, false);


--
-- Name: admins admins_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admins
    ADD CONSTRAINT admins_pkey PRIMARY KEY (id);


--
-- Name: admins admins_profile_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admins
    ADD CONSTRAINT admins_profile_id_key UNIQUE (profile_id);


--
-- Name: candidates candidates_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.candidates
    ADD CONSTRAINT candidates_pkey PRIMARY KEY (id);


--
-- Name: candidates candidates_profile_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.candidates
    ADD CONSTRAINT candidates_profile_id_key UNIQUE (profile_id);


--
-- Name: certifications certifications_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.certifications
    ADD CONSTRAINT certifications_pkey PRIMARY KEY (id);


--
-- Name: clients clients_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_pkey PRIMARY KEY (id);


--
-- Name: clients clients_profile_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT clients_profile_id_key UNIQUE (profile_id);


--
-- Name: databasechangeloglock databasechangeloglock_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.databasechangeloglock
    ADD CONSTRAINT databasechangeloglock_pkey PRIMARY KEY (id);


--
-- Name: educations educations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.educations
    ADD CONSTRAINT educations_pkey PRIMARY KEY (id);


--
-- Name: experience experience_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.experience
    ADD CONSTRAINT experience_pkey PRIMARY KEY (id);


--
-- Name: user_roles pk_user_roles; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT pk_user_roles PRIMARY KEY (profile_id, role_id);


--
-- Name: profiles profiles_auth_service_user_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.profiles
    ADD CONSTRAINT profiles_auth_service_user_id_key UNIQUE (auth_service_user_id);


--
-- Name: profiles profiles_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.profiles
    ADD CONSTRAINT profiles_email_key UNIQUE (email);


--
-- Name: profiles profiles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.profiles
    ADD CONSTRAINT profiles_pkey PRIMARY KEY (id);


--
-- Name: roles roles_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_name_key UNIQUE (name);


--
-- Name: roles roles_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.roles
    ADD CONSTRAINT roles_pkey PRIMARY KEY (id);


--
-- Name: skills skills_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.skills
    ADD CONSTRAINT skills_pkey PRIMARY KEY (id);


--
-- Name: users users_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_email_key UNIQUE (email);


--
-- Name: users users_keycloak_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_keycloak_id_key UNIQUE (keycloak_id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- Name: idx_admins_profile_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX idx_admins_profile_id ON public.admins USING btree (profile_id);


--
-- Name: idx_candidates_profile_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX idx_candidates_profile_id ON public.candidates USING btree (profile_id);


--
-- Name: idx_cert_candidate_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_cert_candidate_id ON public.certifications USING btree (candidate_id);


--
-- Name: idx_clients_profile_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX idx_clients_profile_id ON public.clients USING btree (profile_id);


--
-- Name: idx_edu_candidate_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_edu_candidate_id ON public.educations USING btree (candidate_id);


--
-- Name: idx_exp_candidate_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_exp_candidate_id ON public.experience USING btree (candidate_id);


--
-- Name: idx_profiles_auth_service_user_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE UNIQUE INDEX idx_profiles_auth_service_user_id ON public.profiles USING btree (auth_service_user_id);


--
-- Name: idx_skills_candidate_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_skills_candidate_id ON public.skills USING btree (candidate_id);


--
-- Name: idx_user_roles_profile_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_user_roles_profile_id ON public.user_roles USING btree (profile_id);


--
-- Name: idx_user_roles_role_id; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX idx_user_roles_role_id ON public.user_roles USING btree (role_id);


--
-- Name: admins fk_admins_profile_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.admins
    ADD CONSTRAINT fk_admins_profile_id FOREIGN KEY (profile_id) REFERENCES public.profiles(id) ON DELETE CASCADE;


--
-- Name: candidates fk_candidates_profile_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.candidates
    ADD CONSTRAINT fk_candidates_profile_id FOREIGN KEY (profile_id) REFERENCES public.profiles(id) ON DELETE CASCADE;


--
-- Name: certifications fk_cert_candidate_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.certifications
    ADD CONSTRAINT fk_cert_candidate_id FOREIGN KEY (candidate_id) REFERENCES public.candidates(id) ON DELETE CASCADE;


--
-- Name: clients fk_clients_profile_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.clients
    ADD CONSTRAINT fk_clients_profile_id FOREIGN KEY (profile_id) REFERENCES public.profiles(id) ON DELETE CASCADE;


--
-- Name: educations fk_edu_candidate_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.educations
    ADD CONSTRAINT fk_edu_candidate_id FOREIGN KEY (candidate_id) REFERENCES public.candidates(id) ON DELETE CASCADE;


--
-- Name: experience fk_exp_candidate_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.experience
    ADD CONSTRAINT fk_exp_candidate_id FOREIGN KEY (candidate_id) REFERENCES public.candidates(id) ON DELETE CASCADE;


--
-- Name: skills fk_skills_candidate_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.skills
    ADD CONSTRAINT fk_skills_candidate_id FOREIGN KEY (candidate_id) REFERENCES public.candidates(id) ON DELETE CASCADE;


--
-- Name: user_roles fk_user_roles_profile_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fk_user_roles_profile_id FOREIGN KEY (profile_id) REFERENCES public.profiles(id) ON DELETE CASCADE;


--
-- Name: user_roles fk_user_roles_role_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_roles
    ADD CONSTRAINT fk_user_roles_role_id FOREIGN KEY (role_id) REFERENCES public.roles(id) ON DELETE RESTRICT;


--
-- PostgreSQL database dump complete
--

